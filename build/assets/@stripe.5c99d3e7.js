import{a as u}from"./react.94f0f2be.js";import{p as d}from"./prop-types.0dfc79bf.js";import{j as L}from"./@mui.8c6fa7c8.js";var z="https://js.stripe.com/v3",de=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,F="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",ve=function(){for(var e=document.querySelectorAll('script[src^="'.concat(z,'"]')),r=0;r<e.length;r++){var n=e[r];if(!!de.test(n.src))return n}return null},me=function(e){var r=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",n=document.createElement("script");n.src="".concat(z).concat(r);var a=document.head||document.body;if(!a)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return a.appendChild(n),n},ye=function(e,r){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"1.36.0",startTime:r})},A=null,Ee=function(e){return A!==null||(A=new Promise(function(r,n){if(typeof window>"u"){r(null);return}if(window.Stripe&&e&&console.warn(F),window.Stripe){r(window.Stripe);return}try{var a=ve();a&&e?console.warn(F):a||(a=me(e)),a.addEventListener("load",function(){window.Stripe?r(window.Stripe):n(new Error("Stripe.js not available"))}),a.addEventListener("error",function(){n(new Error("Failed to load Stripe.js"))})}catch(i){n(i);return}})),A},Se=function(e,r,n){if(e===null)return null;var a=e.apply(void 0,r);return ye(a,n),a},X=Promise.resolve().then(function(){return Ee(null)}),Y=!1;X.catch(function(t){Y||console.warn(t)});var ke=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];Y=!0;var a=Date.now();return X.then(function(i){return Se(i,r,a)})};function M(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function D(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?M(Object(r),!0).forEach(function(n){H(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):M(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function R(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?R=function(e){return typeof e}:R=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R(t)}function H(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function he(t,e){return ge(t)||be(t,e)||Ce(t,e)||Oe()}function ge(t){if(Array.isArray(t))return t}function be(t,e){var r=t&&(typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"]);if(r!=null){var n=[],a=!0,i=!1,p,v;try{for(r=r.call(t);!(a=(p=r.next()).done)&&(n.push(p.value),!(e&&n.length===e));a=!0);}catch(o){i=!0,v=o}finally{try{!a&&r.return!=null&&r.return()}finally{if(i)throw v}}return n}}function Ce(t,e){if(!!t){if(typeof t=="string")return K(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return K(t,e)}}function K(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Oe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var T=function(e){var r=u.useRef(e);return u.useEffect(function(){r.current=e},[e]),r.current},x=function(e){return e!==null&&R(e)==="object"},xe=function(e){return x(e)&&typeof e.then=="function"},we=function(e){return x(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},G="[object Object]",je=function t(e,r){if(!x(e)||!x(r))return e===r;var n=Array.isArray(e),a=Array.isArray(r);if(n!==a)return!1;var i=Object.prototype.toString.call(e)===G,p=Object.prototype.toString.call(r)===G;if(i!==p)return!1;if(!i&&!n)return e===r;var v=Object.keys(e),o=Object.keys(r);if(v.length!==o.length)return!1;for(var y={},m=0;m<v.length;m+=1)y[v[m]]=!0;for(var E=0;E<o.length;E+=1)y[o[E]]=!0;var s=Object.keys(y);if(s.length!==v.length)return!1;var g=e,b=r,C=function(j){return t(g[j],b[j])};return s.every(C)},J=function(e,r,n){return x(e)?Object.keys(e).reduce(function(a,i){var p=!x(r)||!je(e[i],r[i]);return n.includes(i)?(p&&console.warn("Unsupported prop change: options.".concat(i," is not a mutable property.")),a):p?D(D({},a||{}),{},H({},i,e[i])):a},null):null},Pe="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",V=function(e){if(e===null||we(e))return e;throw new Error(Pe)},Ae=function(e){if(xe(e))return{tag:"async",stripePromise:Promise.resolve(e).then(V)};var r=V(e);return r===null?{tag:"empty"}:{tag:"sync",stripe:r}},N=u.createContext(null);N.displayName="ElementsContext";var Re=function(e,r){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(r," in an <Elements> provider."));return e},_e=function(e){var r=e.stripe,n=e.options,a=e.children,i=u.useMemo(function(){return Ae(r)},[r]),p=u.useState(function(){return{stripe:i.tag==="sync"?i.stripe:null,elements:i.tag==="sync"?i.stripe.elements(n):null}}),v=he(p,2),o=v[0],y=v[1];u.useEffect(function(){var s=!0,g=function(C){y(function(w){return w.stripe?w:{stripe:C,elements:C.elements(n)}})};return i.tag==="async"&&!o.stripe?i.stripePromise.then(function(b){b&&s&&g(b)}):i.tag==="sync"&&!o.stripe&&g(i.stripe),function(){s=!1}},[i,o,n]);var m=T(r);u.useEffect(function(){m!==null&&m!==r&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[m,r]);var E=T(n);return u.useEffect(function(){if(!!o.elements){var s=J(n,E,["clientSecret","fonts"]);s&&o.elements.update(s)}},[n,E,o.elements]),u.useEffect(function(){var s=o.stripe;!s||!s._registerWrapper||!s.registerAppInfo||(s._registerWrapper({name:"react-stripe-js",version:"1.10.0"}),s.registerAppInfo({name:"react-stripe-js",version:"1.10.0",url:"https://stripe.com/docs/stripe-js/react"}))},[o.stripe]),L(N.Provider,{value:o,children:a})};_e.propTypes={stripe:d.exports.any,options:d.exports.object};var P=function(e){var r=u.useContext(N);return Re(r,e)},Be=function(){var e=P("calls useElements()"),r=e.elements;return r},Ue=function(){var e=P("calls useStripe()"),r=e.stripe;return r},Le=function(e){var r=e.children,n=P("mounts <ElementsConsumer>");return r(n)};Le.propTypes={children:d.exports.func.isRequired};var S=function(e){var r=u.useRef(e);return u.useEffect(function(){r.current=e},[e]),function(){r.current&&r.current.apply(r,arguments)}},h=function(){},Te=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},c=function(e,r){var n="".concat(Te(e),"Element"),a=function(o){var y=o.id,m=o.className,E=o.options,s=E===void 0?{}:E,g=o.onBlur,b=g===void 0?h:g,C=o.onFocus,w=C===void 0?h:C,j=o.onReady,Q=j===void 0?h:j,I=o.onChange,Z=I===void 0?h:I,$=o.onEscape,ee=$===void 0?h:$,k=o.onClick,re=k===void 0?h:k,B=o.onLoadError,te=B===void 0?h:B,U=o.onLoaderStart,ne=U===void 0?h:U,oe=P("mounts <".concat(n,">")),W=oe.elements,O=u.useRef(null),_=u.useRef(null),ae=S(Q),ie=S(b),se=S(w),ue=S(re),ce=S(Z),le=S(ee),pe=S(te),fe=S(ne);u.useLayoutEffect(function(){if(O.current==null&&W&&_.current!=null){var f=W.create(e,s);O.current=f,f.mount(_.current),f.on("ready",function(){return ae(f)}),f.on("change",ce),f.on("blur",ie),f.on("focus",se),f.on("escape",le),f.on("loaderror",pe),f.on("loaderstart",fe),f.on("click",ue)}});var q=T(s);return u.useEffect(function(){if(!!O.current){var f=J(s,q,["paymentRequest"]);f&&O.current.update(f)}},[s,q]),u.useLayoutEffect(function(){return function(){O.current&&(O.current.destroy(),O.current=null)}},[]),L("div",{id:y,className:m,ref:_})},i=function(o){P("mounts <".concat(n,">"));var y=o.id,m=o.className;return L("div",{id:y,className:m})},p=r?i:a;return p.propTypes={id:d.exports.string,className:d.exports.string,onChange:d.exports.func,onBlur:d.exports.func,onFocus:d.exports.func,onReady:d.exports.func,onClick:d.exports.func,onLoadError:d.exports.func,onLoaderStart:d.exports.func,options:d.exports.object},p.displayName=n,p.__elementType=e,p},l=typeof window>"u";c("auBankAccount",l);var We=c("card",l),qe=c("cardNumber",l),Fe=c("cardExpiry",l),Me=c("cardCvc",l);c("fpxBank",l);c("iban",l);c("idealBank",l);c("p24Bank",l);c("epsBank",l);c("payment",l);c("paymentRequestButton",l);c("linkAuthentication",l);c("shippingAddress",l);c("affirmMessage",l);c("afterpayClearpayMessage",l);export{We as C,_e as E,Be as a,qe as b,Fe as c,Me as d,Le as e,ke as l,Ue as u};
