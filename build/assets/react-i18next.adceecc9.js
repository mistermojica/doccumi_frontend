import{a as A,r as p}from"./react.94f0f2be.js";import{j as F,h as B,d as z,c as K}from"./@babel.d876bede.js";function C(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function D(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?C(Object(n),!0).forEach(function(r){z(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var P={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0},R,H=A.createContext();function M(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};P=D(D({},P),t)}function W(){return P}var $=function(){function t(){B(this,t),this.usedNamespaces={}}return F(t,[{key:"addUsedNamespaces",value:function(n){var r=this;n.forEach(function(s){r.usedNamespaces[s]||(r.usedNamespaces[s]=!0)})}},{key:"getUsedNamespaces",value:function(){return Object.keys(this.usedNamespaces)}}]),t}();function V(t){R=t}function Y(){return R}var Q={type:"3rdParty",init:function(e){M(e.options.react),V(e)}};function _(){if(console&&console.warn){for(var t,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];typeof n[0]=="string"&&(n[0]="react-i18next:: ".concat(n[0])),(t=console).warn.apply(t,n)}}var E={};function j(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];typeof e[0]=="string"&&E[e[0]]||(typeof e[0]=="string"&&(E[e[0]]=new Date),_.apply(void 0,e))}function T(t,e,n){t.loadNamespaces(e,function(){if(t.isInitialized)n();else{var r=function s(){setTimeout(function(){t.off("initialized",s)},0),n()};t.on("initialized",r)}})}function q(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!e.languages||!e.languages.length)return j("i18n.languages were undefined or empty",e.languages),!0;var r=e.languages[0],s=e.options?e.options.fallbackLng:!1,O=e.languages[e.languages.length-1];if(r.toLowerCase()==="cimode")return!0;var a=function(f,c){var l=e.services.backendConnector.state["".concat(f,"|").concat(c)];return l===-1||l===2};return n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!a(e.isLanguageChangingTo,t)?!1:!!(e.hasResourceBundle(r,t)||!e.services.backendConnector.backend||a(r,t)&&(!s||a(O,t)))}function L(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function N(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?L(Object(n),!0).forEach(function(r){z(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function X(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.i18n,r=p.exports.useContext(H)||{},s=r.i18n,O=r.defaultNS,a=n||s||Y();if(a&&!a.reportNamespaces&&(a.reportNamespaces=new $),!a){j("You will need to pass in an i18next instance by using initReactI18next");var y=function(u){return Array.isArray(u)?u[u.length-1]:u},f=[y,{},!1];return f.t=y,f.i18n={},f.ready=!1,f}a.options.react&&a.options.react.wait!==void 0&&j("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");var c=N(N(N({},W()),a.options.react),e),l=c.useSuspense,U=c.keyPrefix,i=t||O||a.options&&a.options.defaultNS;i=typeof i=="string"?[i]:i||["translation"],a.reportNamespaces.addUsedNamespaces&&a.reportNamespaces.addUsedNamespaces(i);var d=(a.isInitialized||a.initializedStoreOnce)&&i.every(function(o){return q(o,a,c)});function v(){return a.getFixedT(null,c.nsMode==="fallback"?i:i[0],U)}var k=p.exports.useState(v),S=K(k,2),x=S[0],h=S[1],g=p.exports.useRef(!0);p.exports.useEffect(function(){var o=c.bindI18n,u=c.bindI18nStore;g.current=!0,!d&&!l&&T(a,i,function(){g.current&&h(v)});function b(){g.current&&h(v)}return o&&a&&a.on(o,b),u&&a&&a.store.on(u,b),function(){g.current=!1,o&&a&&o.split(" ").forEach(function(w){return a.off(w,b)}),u&&a&&u.split(" ").forEach(function(w){return a.store.off(w,b)})}},[a,i.join()]);var I=p.exports.useRef(!0);p.exports.useEffect(function(){g.current&&!I.current&&h(v),I.current=!1},[a]);var m=[x,a,d];if(m.t=x,m.i18n=a,m.ready=d,d||!d&&!l)return m;throw new Promise(function(o){T(a,i,function(){o()})})}export{Q as i,X as u};
