function P(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];throw Error("[Immer] minified error nr: "+t+(r.length?" "+r.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function D(t){return!!t&&!!t[v]}function k(t){return!!t&&(function(e){if(!e||typeof e!="object")return!1;var r=Object.getPrototypeOf(e);if(r===null)return!0;var n=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return n===Object||typeof n=="function"&&Function.toString.call(n)===bt}(t)||Array.isArray(t)||!!t[it]||!!t.constructor[it]||G(t)||H(t))}function F(t,e,r){r===void 0&&(r=!1),_(t)===0?(r?Object.keys:E)(t).forEach(function(n){r&&typeof n=="symbol"||e(n,t[n],t)}):t.forEach(function(n,i){return e(i,n,t)})}function _(t){var e=t[v];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:G(t)?2:H(t)?3:0}function x(t,e){return _(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function st(t,e){return _(t)===2?t.get(e):t[e]}function ut(t,e,r){var n=_(t);n===2?t.set(e,r):n===3?(t.delete(e),t.add(r)):t[e]=r}function ft(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function G(t){return dt&&t instanceof Map}function H(t){return gt&&t instanceof Set}function S(t){return t.o||t.t}function L(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=at(t);delete e[v];for(var r=E(e),n=0;n<r.length;n++){var i=r[n],o=e[i];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(e[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[i]})}return Object.create(Object.getPrototypeOf(t),e)}function Q(t,e){return e===void 0&&(e=!1),T(t)||D(t)||!k(t)||(_(t)>1&&(t.set=t.add=t.clear=t.delete=vt),Object.freeze(t),e&&F(t,function(r,n){return Q(n,!0)},!0)),t}function vt(){P(2)}function T(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function m(t){var e=B[t];return e||P(18,t),e}function pt(t,e){B[t]||(B[t]=e)}function J(){return M}function W(t,e){e&&(m("Patches"),t.u=[],t.s=[],t.v=e)}function R(t){X(t),t.p.forEach(yt),t.p=null}function X(t){t===M&&(M=t.l)}function Y(t){return M={p:[],l:M,h:t,m:!0,_:0}}function yt(t){var e=t[v];e.i===0||e.i===1?e.j():e.O=!0}function U(t,e){e._=e.p.length;var r=e.p[0],n=t!==void 0&&t!==r;return e.h.g||m("ES5").S(e,t,n),n?(r[v].P&&(R(e),P(4)),k(t)&&(t=K(e,t),e.l||N(e,t)),e.u&&m("Patches").M(r[v].t,t,e.u,e.s)):t=K(e,r,[]),R(e),e.u&&e.v(e.u,e.s),t!==ct?t:void 0}function K(t,e,r){if(T(e))return e;var n=e[v];if(!n)return F(e,function(o,u){return tt(t,n,e,o,u,r)},!0),e;if(n.A!==t)return e;if(!n.P)return N(t,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var i=n.i===4||n.i===5?n.o=L(n.k):n.o;F(n.i===3?new Set(i):i,function(o,u){return tt(t,n,i,o,u,r)}),N(t,i,!1),r&&t.u&&m("Patches").R(n,r,t.u,t.s)}return n.o}function tt(t,e,r,n,i,o){if(D(i)){var u=K(t,i,o&&e&&e.i!==3&&!x(e.D,n)?o.concat(n):void 0);if(ut(r,n,u),!D(u))return;t.m=!1}if(k(i)&&!T(i)){if(!t.h.F&&t._<1)return;K(t,i),e&&e.A.l||N(t,i)}}function N(t,e,r){r===void 0&&(r=!1),t.h.F&&t.m&&Q(e,r)}function C(t,e){var r=t[v];return(r?S(r):t)[e]}function et(t,e){if(e in t)for(var r=Object.getPrototypeOf(t);r;){var n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=Object.getPrototypeOf(r)}}function A(t){t.P||(t.P=!0,t.l&&A(t.l))}function $(t){t.o||(t.o=L(t.t))}function q(t,e,r){var n=G(e)?m("MapSet").N(e,r):H(e)?m("MapSet").T(e,r):t.g?function(i,o){var u=Array.isArray(i),f={i:u?1:0,A:o?o.A:J(),P:!1,I:!1,D:{},l:o,t:i,k:null,o:null,j:null,C:!1},a=f,l=z;u&&(a=[f],l=I);var c=Proxy.revocable(a,l),p=c.revoke,s=c.proxy;return f.k=s,f.j=p,s}(e,r):m("ES5").J(e,r);return(r?r.A:J()).p.push(n),n}function ht(t){return D(t)||P(22,t),function e(r){if(!k(r))return r;var n,i=r[v],o=_(r);if(i){if(!i.P&&(i.i<4||!m("ES5").K(i)))return i.t;i.I=!0,n=rt(r,o),i.I=!1}else n=rt(r,o);return F(n,function(u,f){i&&st(i.t,u)===f||ut(n,u,e(f))}),o===3?new Set(n):n}(t)}function rt(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return L(t)}function Ot(){function t(o,u){var f=i[o];return f?f.enumerable=u:i[o]=f={configurable:!0,enumerable:u,get:function(){var a=this[v];return z.get(a,o)},set:function(a){var l=this[v];z.set(l,o,a)}},f}function e(o){for(var u=o.length-1;u>=0;u--){var f=o[u][v];if(!f.P)switch(f.i){case 5:n(f)&&A(f);break;case 4:r(f)&&A(f)}}}function r(o){for(var u=o.t,f=o.k,a=E(f),l=a.length-1;l>=0;l--){var c=a[l];if(c!==v){var p=u[c];if(p===void 0&&!x(u,c))return!0;var s=f[c],y=s&&s[v];if(y?y.t!==p:!ft(s,p))return!0}}var g=!!u[v];return a.length!==E(u).length+(g?0:1)}function n(o){var u=o.k;if(u.length!==o.t.length)return!0;var f=Object.getOwnPropertyDescriptor(u,u.length-1);if(f&&!f.get)return!0;for(var a=0;a<u.length;a++)if(!u.hasOwnProperty(a))return!0;return!1}var i={};pt("ES5",{J:function(o,u){var f=Array.isArray(o),a=function(c,p){if(c){for(var s=Array(p.length),y=0;y<p.length;y++)Object.defineProperty(s,""+y,t(y,!0));return s}var g=at(p);delete g[v];for(var d=E(g),O=0;O<d.length;O++){var j=d[O];g[j]=t(j,c||!!g[j].enumerable)}return Object.create(Object.getPrototypeOf(p),g)}(f,o),l={i:f?5:4,A:u?u.A:J(),P:!1,I:!1,D:{},l:u,t:o,k:a,o:null,O:!1,C:!1};return Object.defineProperty(a,v,{value:l,writable:!0}),a},S:function(o,u,f){f?D(u)&&u[v].A===o&&e(o.p):(o.u&&function a(l){if(l&&typeof l=="object"){var c=l[v];if(c){var p=c.t,s=c.k,y=c.D,g=c.i;if(g===4)F(s,function(h){h!==v&&(p[h]!==void 0||x(p,h)?y[h]||a(s[h]):(y[h]=!0,A(c)))}),F(p,function(h){s[h]!==void 0||x(s,h)||(y[h]=!1,A(c))});else if(g===5){if(n(c)&&(A(c),y.length=!0),s.length<p.length)for(var d=s.length;d<p.length;d++)y[d]=!1;else for(var O=p.length;O<s.length;O++)y[O]=!0;for(var j=Math.min(s.length,p.length),w=0;w<j;w++)s.hasOwnProperty(w)||(y[w]=!0),y[w]===void 0&&a(s[w])}}}}(o.p[0]),e(o.p))},K:function(o){return o.i===4?r(o):n(o)}})}var nt,M,Z=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",dt=typeof Map<"u",gt=typeof Set<"u",ot=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",ct=Z?Symbol.for("immer-nothing"):((nt={})["immer-nothing"]=!0,nt),it=Z?Symbol.for("immer-draftable"):"__$immer_draftable",v=Z?Symbol.for("immer-state"):"__$immer_state",bt=""+Object.prototype.constructor,E=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,at=Object.getOwnPropertyDescriptors||function(t){var e={};return E(t).forEach(function(r){e[r]=Object.getOwnPropertyDescriptor(t,r)}),e},B={},z={get:function(t,e){if(e===v)return t;var r=S(t);if(!x(r,e))return function(i,o,u){var f,a=et(o,u);return a?"value"in a?a.value:(f=a.get)===null||f===void 0?void 0:f.call(i.k):void 0}(t,r,e);var n=r[e];return t.I||!k(n)?n:n===C(t.t,e)?($(t),t.o[e]=q(t.A.h,n,t)):n},has:function(t,e){return e in S(t)},ownKeys:function(t){return Reflect.ownKeys(S(t))},set:function(t,e,r){var n=et(S(t),e);if(n?.set)return n.set.call(t.k,r),!0;if(!t.P){var i=C(S(t),e),o=i?.[v];if(o&&o.t===r)return t.o[e]=r,t.D[e]=!1,!0;if(ft(r,i)&&(r!==void 0||x(t.t,e)))return!0;$(t),A(t)}return t.o[e]===r&&typeof r!="number"&&(r!==void 0||e in t.o)||(t.o[e]=r,t.D[e]=!0,!0)},deleteProperty:function(t,e){return C(t.t,e)!==void 0||e in t.t?(t.D[e]=!1,$(t),A(t)):delete t.D[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var r=S(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty:function(){P(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){P(12)}},I={};F(z,function(t,e){I[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),I.deleteProperty=function(t,e){return I.set.call(this,t,e,void 0)},I.set=function(t,e,r){return z.set.call(this,t[0],e,r,t[0])};var Pt=function(){function t(r){var n=this;this.g=ot,this.F=!0,this.produce=function(i,o,u){if(typeof i=="function"&&typeof o!="function"){var f=o;o=i;var a=n;return function(d){var O=this;d===void 0&&(d=f);for(var j=arguments.length,w=Array(j>1?j-1:0),h=1;h<j;h++)w[h-1]=arguments[h];return a.produce(d,function(lt){var V;return(V=o).call.apply(V,[O,lt].concat(w))})}}var l;if(typeof o!="function"&&P(6),u!==void 0&&typeof u!="function"&&P(7),k(i)){var c=Y(n),p=q(n,i,void 0),s=!0;try{l=o(p),s=!1}finally{s?R(c):X(c)}return typeof Promise<"u"&&l instanceof Promise?l.then(function(d){return W(c,u),U(d,c)},function(d){throw R(c),d}):(W(c,u),U(l,c))}if(!i||typeof i!="object"){if((l=o(i))===void 0&&(l=i),l===ct&&(l=void 0),n.F&&Q(l,!0),u){var y=[],g=[];m("Patches").M(i,l,y,g),u(y,g)}return l}P(21,i)},this.produceWithPatches=function(i,o){if(typeof i=="function")return function(l){for(var c=arguments.length,p=Array(c>1?c-1:0),s=1;s<c;s++)p[s-1]=arguments[s];return n.produceWithPatches(l,function(y){return i.apply(void 0,[y].concat(p))})};var u,f,a=n.produce(i,o,function(l,c){u=l,f=c});return typeof Promise<"u"&&a instanceof Promise?a.then(function(l){return[l,u,f]}):[a,u,f]},typeof r?.useProxies=="boolean"&&this.setUseProxies(r.useProxies),typeof r?.autoFreeze=="boolean"&&this.setAutoFreeze(r.autoFreeze)}var e=t.prototype;return e.createDraft=function(r){k(r)||P(8),D(r)&&(r=ht(r));var n=Y(this),i=q(this,r,void 0);return i[v].C=!0,X(n),i},e.finishDraft=function(r,n){var i=r&&r[v],o=i.A;return W(o,n),U(void 0,o)},e.setAutoFreeze=function(r){this.F=r},e.setUseProxies=function(r){r&&!ot&&P(20),this.g=r},e.applyPatches=function(r,n){var i;for(i=n.length-1;i>=0;i--){var o=n[i];if(o.path.length===0&&o.op==="replace"){r=o.value;break}}i>-1&&(n=n.slice(i+1));var u=m("Patches").$;return D(r)?u(r,n):this.produce(r,function(f){return u(f,n)})},t}(),b=new Pt,mt=b.produce;b.produceWithPatches.bind(b);b.setAutoFreeze.bind(b);b.setUseProxies.bind(b);b.applyPatches.bind(b);b.createDraft.bind(b);b.finishDraft.bind(b);const jt=mt;export{Ot as N,jt as c,D as r,k as t};
