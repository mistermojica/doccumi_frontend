import{r as u,a as Fe}from"./react.94f0f2be.js";import{R as Te}from"./react-dom.b4f799c1.js";import{i as D,o as B,s as oe,e as Re,f as Ne,a as De,d as Be,g as T,l as ne,h as re}from"./dom-helpers.555bdcc4.js";import{a as He,_ as Ie}from"./@babel.d876bede.js";import{p as i}from"./prop-types.0dfc79bf.js";import{c as $e,d as je,u as h,b as Ke}from"./@restart.099d3e3d.js";import{j as g,F as te,a as Le}from"./@mui.8c6fa7c8.js";function We(e){return e&&e.tagName.toLowerCase()==="body"}function Pe(e){var n=D(e)?B():B(e),t=D(e)||n.defaultView;return n.body.clientWidth<t.innerWidth}function ze(e){var n=D(e);return n||We(e)?Pe(e):e.scrollHeight>e.clientHeight}var Ae=["template","script","style"],Ue=function(n){var t=n.nodeType,o=n.tagName;return t===1&&Ae.indexOf(o.toLowerCase())===-1},ie=function(n,t,o){[].forEach.call(n.children,function(r){t.indexOf(r)===-1&&Ue(r)&&o(r)})};function w(e,n){!n||(e?n.setAttribute("aria-hidden","true"):n.removeAttribute("aria-hidden"))}function Ve(e,n){var t=n.dialog,o=n.backdrop;ie(e,[t,o],function(r){return w(!0,r)})}function qe(e,n){var t=n.dialog,o=n.backdrop;ie(e,[t,o],function(r){return w(!1,r)})}function Ge(e,n){var t=-1;return e.some(function(o,r){return n(o,r)?(t=r,!0):!1}),t}var H=function(){function e(t){var o=t===void 0?{}:t,r=o.hideSiblingNodes,d=r===void 0?!0:r,a=o.handleContainerOverflow,c=a===void 0?!0:a;this.hideSiblingNodes=void 0,this.handleContainerOverflow=void 0,this.modals=void 0,this.containers=void 0,this.data=void 0,this.scrollbarSize=void 0,this.hideSiblingNodes=d,this.handleContainerOverflow=c,this.modals=[],this.containers=[],this.data=[],this.scrollbarSize=De()}var n=e.prototype;return n.isContainerOverflowing=function(o){var r=this.data[this.containerIndexFromModal(o)];return r&&r.overflowing},n.containerIndexFromModal=function(o){return Ge(this.data,function(r){return r.modals.indexOf(o)!==-1})},n.setContainerStyle=function(o,r){var d={overflow:"hidden"};o.style={overflow:r.style.overflow,paddingRight:r.style.paddingRight},o.overflowing&&(d.paddingRight=parseInt(oe(r,"paddingRight")||"0",10)+this.scrollbarSize+"px"),oe(r,d)},n.removeContainerStyle=function(o,r){Object.assign(r.style,o.style)},n.add=function(o,r,d){var a=this.modals.indexOf(o),c=this.containers.indexOf(r);if(a!==-1)return a;if(a=this.modals.length,this.modals.push(o),this.hideSiblingNodes&&Ve(r,o),c!==-1)return this.data[c].modals.push(o),a;var f={modals:[o],classes:d?d.split(/\s+/):[],overflowing:ze(r)};return this.handleContainerOverflow&&this.setContainerStyle(f,r),f.classes.forEach(Re.bind(null,r)),this.containers.push(r),this.data.push(f),a},n.remove=function(o){var r=this.modals.indexOf(o);if(r!==-1){var d=this.containerIndexFromModal(o),a=this.data[d],c=this.containers[d];if(a.modals.splice(a.modals.indexOf(o),1),this.modals.splice(r,1),a.modals.length===0)a.classes.forEach(Ne.bind(null,c)),this.handleContainerOverflow&&this.removeContainerStyle(a,c),this.hideSiblingNodes&&qe(c,o),this.containers.splice(d,1),this.data.splice(d,1);else if(this.hideSiblingNodes){var f=a.modals[a.modals.length-1],x=f.backdrop,m=f.dialog;w(!1,m),w(!1,x)}}},n.isTopModal=function(o){return!!this.modals.length&&this.modals[this.modals.length-1]===o},e}(),R=function(n){var t;return typeof document>"u"?null:n==null?B().body:(typeof n=="function"&&(n=n()),n&&"current"in n&&(n=n.current),(t=n)!=null&&t.nodeType&&n||null)};function Je(e,n){var t=u.exports.useState(function(){return R(e)}),o=t[0],r=t[1];if(!o){var d=R(e);d&&r(d)}return u.exports.useEffect(function(){n&&o&&n(o)},[n,o]),u.exports.useEffect(function(){var a=R(e);a!==o&&r(a)},[e,o]),o}var N;function Qe(){return N||(N=new H),N}function Xe(e){var n=e||Qe(),t=u.exports.useRef({dialog:null,backdrop:null});return Object.assign(t.current,{add:function(r,d){return n.add(t.current,r,d)},remove:function(){return n.remove(t.current)},isTopModal:function(){return n.isTopModal(t.current)},setDialogRef:u.exports.useCallback(function(o){t.current.dialog=o},[]),setBackdropRef:u.exports.useCallback(function(o){t.current.backdrop=o},[])})}var I=u.exports.forwardRef(function(e,n){var t=e.show,o=t===void 0?!1:t,r=e.role,d=r===void 0?"dialog":r,a=e.className,c=e.style,f=e.children,x=e.backdrop,m=x===void 0?!0:x,$=e.keyboard,ae=$===void 0?!0:$,j=e.onBackdropClick,K=e.onEscapeKeyDown,L=e.transition,se=e.backdropTransition,W=e.autoFocus,de=W===void 0?!0:W,P=e.enforceFocus,le=P===void 0?!0:P,z=e.restoreFocus,ue=z===void 0?!0:z,ce=e.restoreFocusOptions,A=e.renderDialog,U=e.renderBackdrop,fe=U===void 0?function(s){return g("div",{...s})}:U,pe=e.manager,ve=e.container,he=e.containerClassName,V=e.onShow,q=e.onHide,G=q===void 0?function(){}:q,ge=e.onExit,J=e.onExited,xe=e.onExiting,me=e.onEnter,be=e.onEntering,ye=e.onEntered,Ee=He(e,["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","backdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","containerClassName","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"]),p=Je(ve),l=Xe(pe),we=$e(),ke=je(o),Q=u.exports.useState(!o),v=Q[0],k=Q[1],b=u.exports.useRef(null);u.exports.useImperativeHandle(n,function(){return l},[l]),Be&&!ke&&o&&(b.current=T()),!L&&!o&&!v?k(!0):o&&v&&k(!1);var X=h(function(){if(l.add(p,he),S.current=ne(document,"keydown",Se),O.current=ne(document,"focus",function(){return setTimeout(Ce)},!0),V&&V(),de){var s=T(document);l.dialog&&s&&!re(l.dialog,s)&&(b.current=s,l.dialog.focus())}}),C=h(function(){if(l.remove(),S.current==null||S.current(),O.current==null||O.current(),ue){var s;(s=b.current)==null||s.focus==null||s.focus(ce),b.current=null}});u.exports.useEffect(function(){!o||!p||X()},[o,p,X]),u.exports.useEffect(function(){!v||C()},[v,C]),Ke(function(){C()});var Ce=h(function(){if(!(!le||!we()||!l.isTopModal())){var s=T();l.dialog&&s&&!re(l.dialog,s)&&l.dialog.focus()}}),Oe=h(function(s){s.target===s.currentTarget&&(j==null||j(s),m===!0&&G())}),Se=h(function(s){ae&&s.keyCode===27&&l.isTopModal()&&(K==null||K(s),s.defaultPrevented||G())}),O=u.exports.useRef(),S=u.exports.useRef(),Me=function(){k(!0);for(var _=arguments.length,ee=new Array(_),E=0;E<_;E++)ee[E]=arguments[E];J==null||J.apply(void 0,ee)},M=L;if(!p||!(o||M&&!v))return null;var Y=Ie({role:d,ref:l.setDialogRef,"aria-modal":d==="dialog"?!0:void 0},Ee,{style:c,className:a,tabIndex:-1}),F=A?A(Y):g("div",{...Y,children:Fe.cloneElement(f,{role:"document"})});M&&(F=g(M,{appear:!0,unmountOnExit:!0,in:!!o,onExit:ge,onExiting:xe,onExited:Me,onEnter:me,onEntering:be,onEntered:ye,children:F}));var y=null;if(m){var Z=se;y=fe({ref:l.setBackdropRef,onClick:Oe}),Z&&(y=g(Z,{appear:!0,in:!!o,children:y}))}return g(te,{children:Te.createPortal(Le(te,{children:[y,F]}),p)})}),Ye={show:i.exports.bool,container:i.exports.any,onShow:i.exports.func,onHide:i.exports.func,backdrop:i.exports.oneOfType([i.exports.bool,i.exports.oneOf(["static"])]),renderDialog:i.exports.func,renderBackdrop:i.exports.func,onEscapeKeyDown:i.exports.func,onBackdropClick:i.exports.func,containerClassName:i.exports.string,keyboard:i.exports.bool,transition:i.exports.elementType,backdropTransition:i.exports.elementType,autoFocus:i.exports.bool,enforceFocus:i.exports.bool,restoreFocus:i.exports.bool,restoreFocusOptions:i.exports.shape({preventScroll:i.exports.bool}),onEnter:i.exports.func,onEntering:i.exports.func,onEntered:i.exports.func,onExit:i.exports.func,onExiting:i.exports.func,onExited:i.exports.func,manager:i.exports.instanceOf(H)};I.displayName="Modal";I.propTypes=Ye;const io=Object.assign(I,{Manager:H});export{io as B,H as M};
